<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Animacja 1</title>
  <meta name="description" content="Animacja 1">
  <meta name="author" content="Pawel Wozniak, 224868">

</head>

<body>
	<canvas id="canvas" width="800" height="600"></canvas>
  
	<script>
	  var canvas = document.getElementById('canvas');
	  var context = canvas.getContext('2d');
	  
	  var paddlePosX = 400;
	  var paddlePosY = 550;
	  var paddleWidth = 100;
	  var paddleHeight= 20;
	  var paddleColor = "green"
	  
	  var bulletRadius = 10;
	  let  bulletArray = new Array();
	  
	  var targetRadius = 40;
	  var targetColors = ["green", "blue", "red", "black"];
	  let  targetArray = new Array();  
	  
	  function drawPaddle() {	
		context.beginPath();
		context.rect(paddlePosX, paddlePosY, paddleWidth, paddleHeight);
		context.stroke();
		context.fillStyle = paddleColor;
		context.fill();
		context.lineWidth = 4;
		context.strokeStyle = '#003300';
		context.stroke();
	 }
	 
	  function drawBullets() {	
		for (var bullet in bulletArray) {
			
			console.log(bullet.posX);
			context.beginPath();
			context.arc(bullet.posX, bullet.posY, bulletRadius, 0, 2 * Math.PI, false);
			context.stroke();
			context.fillStyle = "black";
			context.fill();
			context.lineWidth = 4;
			context.strokeStyle = '#003300';
			context.stroke();
		}
	 }
	 
	 function clearScreen() {
		context.clearRect( 0, 0 , 800, 600 );
	 }
	 
	 function redrawScreen() {
		clearScreen();
		drawPaddle();
		drawBullets();
	 }
	
	
	 
	 function fireBullet() {
		var myObj = new Object();
		myObj.posX = paddlePosX+paddleWidth/2,
		myObj.posY = paddlePosY-paddleHeight;
			
		bulletArray.push(myObj);
	 }
	 
	document.addEventListener('keydown', function(event) {
		if(event.keyCode == 37) {
			paddlePosX -= 30;
		}
		else if(event.keyCode == 39) {
			paddlePosX += 30;
		}
		else if(event.keyCode == 32) {
			fireBullet();
		}
		if(paddlePosX <0) {
			paddlePosX =0;
		}
		if(paddlePosX > 800-paddleWidth) {
			paddlePosX = 800-paddleWidth;
		}
	});
	
	
	setInterval(redrawScreen,20);
	  

	</script>
</body>

</body>
</html>
